/*!
 * Commons: Common functions and helpers.
 * Copyright (c) 2015 Martin Borik <mborik@users.sourceforge.net>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom
 * the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS
 * OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF
 * OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(a){if(a.getCompatible=function(a,b,c,d){var e,f,g=a[b],h=["moz","webkit","o","ms","Moz","WebKit","O","MS"];if(!g)for(e=b[0],e>="a"&&"z">=e&&(b=e.toUpperCase()+b.substr(1)),e=0;e<h.length;e++)if(f=h[e]+b,g=a[f]){b=f;break}return g&&c?new a[b]:g?g:d?d:void 0},"now"in a.Date||(Date.now=function(){return(new Date).getTime()}),"performance"in a||(a.performance={}),!("now"in a.performance)){var b=Date.now();a.performance.timing&&a.performance.timing.navigationStart&&(b=a.performance.timing.navigationStart),a.performance.now=function(){return Date.now()-b}}a.browser=function(a){var b=!!a.opera||navigator.userAgent.indexOf(" OPR/")>=0,c={isOpera:b,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:Object.prototype.toString.call(a.HTMLElement).indexOf("Constructor")>0,isChrome:!!a.chrome&&!b,isIE:/*@cc_on!@*/!1||!!document.documentMode};return c}(a),a.dev}(window);var SyncTimer=function(){this.callback=function(){},this.interval=10;var a=this,b=function(b){setTimeout(function(){b(performance.now())},a.interval)},c=getCompatible(window,"requestAnimationFrame",!1,b),d=0,e=!1;return this.start=function(b,f){return e?!1:(void 0!==b&&(this.callback=b),void 0!==f&&(this.interval=f),e=!0,c(function(b){c(a.loop),d=b}),!0)},this.end=function(){e=!1},this.loop=function(a){return e&&c(this.loop),a-d<this.interval?!1:(this.callback(),void(d=a))},this}();Number.prototype.toWidth=function(a){var b=""+(this.valueOf()>>0);return("0000000000"+b).substr(-Math.max(a||0,b.length))};